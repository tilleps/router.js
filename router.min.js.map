{"version":3,"file":"router.min.js","sources":["router.js"],"names":["name","definition","module","exports","define","amd","this","addHashchangeListener","el","listener","addEventListener","attachEvent","removeHashchangeListener","removeEventListener","detachEvent","extend","i","arguments","length","key","hasOwnProperty","Function","prototype","bind","object","originalFunction","args","Array","slice","call","shift","apply","concat","PATH_REPLACER","PATH_NAME_MATCHER","PATH_EVERY_MATCHER","PATH_EVERY_REPLACER","PATH_EVERY_GLOBAL_MATCHER","PATH_EVERY_GLOBAL_REPLACER","LEADING_BACKSLASHES_MATCH","Request","href","params","query","splat","get","default_value","undefined","Router","options","_options","ignorecase","_routes","_befores","_errors","_","err","url","httpCode","console","warn","_404","_500","error","Error","_paused","_hasChangeHandler","_onHashChange","window","_route","_extractFragment","location","hash_index","indexOf","substring","_throwsRouteError","_buildRequestObject","fragmentUrl","request","completeFragment","split","queryKeyValue","queryString","qLen","decodeURI","replace","splats","_followRoute","matchedIndexes","index","splice","route","match","path","len","paramNames","j","push","next","uO","u","mI","error_code","routeAction","_routeBefores","befores","before","nextBefore","urlToTest","p","test","pause","play","triggerNow","setLocation","history","pushState","redirect","addRoute","add","modifiers","exec","RegExp","callbacks","n","callback","errors","isNaN","run","startUrl","destroy"],"mappings":"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"}